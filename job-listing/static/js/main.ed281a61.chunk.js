(this["webpackJsonpjob-listing"]=this["webpackJsonpjob-listing"]||[]).push([[0],{22:function(e,t,a){e.exports=a(36)},27:function(e,t,a){},29:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(8),o=a.n(r),s=(a(27),a(28),a(1)),c=a(2),i=a(4),u=a(5),d=(a(29),a(6)),m=a(11),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,jobs:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_JOBS":return Object(m.a)({},e,{isLoading:!1,errMess:null,jobs:t.payload});case"JOBS_LOADING":return Object(m.a)({},e,{isLoading:!0,errMess:null,jobs:[]});case"JOBS_FAILED":return Object(m.a)({},e,{isLoading:!1,errMess:t.payload,jobs:[]});default:return e}},g=a(17),p=a(9),b="https://raw.githubusercontent.com/ahmedxgouda/job-listing-data/master/",v=function(){return{type:"JOBS_LOADING"}},h=function(e){return{type:"JOBS_FAILED",payload:e}},E=function(e){return{type:"ADD_JOBS",payload:e}},j=function(){return l.a.createElement("header",null,l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"img"})))},y=a(19),L=a(15),O=a(20),M=function(){return l.a.createElement("div",{className:"loader"},l.a.createElement("span",{className:"fas fa-spinner fa-pulse fa-3x fa-fw"}),l.a.createElement("p",null,"Loading . . ."))},k=a(10),N=a(21),S=function(e){var t=e.job,a=e.state,r=e.addRole,o=e.addLevel,s=e.addLanguage,c=e.addTool,i=e.handleClick,u=Object(k.b)(),d=Object(N.a)(),m=Object(O.a)(d,2),f=m[0],g=m[1];return Object(n.useEffect)((function(){g?u.start("visible"):u.start("hidden")}),[u,g]),l.a.createElement(k.a.div,{ref:f,initial:"hidden",animate:u,variants:{visible:{opacity:1},hidden:{opacity:0},transition:{transitionDuration:2}},className:"box".concat(t.featured&&t.new?" box-border":"")},l.a.createElement("div",{className:"img"},l.a.createElement("img",{src:b+t.logo,alt:t.company})),l.a.createElement("div",{className:"text"},l.a.createElement("div",{className:"info"},l.a.createElement("div",{className:"heading"},l.a.createElement("h4",null,t.company),t.new?l.a.createElement("span",{className:"new"},"NEW!"):null,t.featured?l.a.createElement("span",{className:"featured"},"FEATURED"):null),l.a.createElement("div",{className:"position"},l.a.createElement("h2",null,t.position)),l.a.createElement("div",{className:"details"},l.a.createElement("p",null,t.postedAt," ",l.a.createElement("span",{className:"dot"})," ",t.contract," ",l.a.createElement("span",{className:"dot"})," ",t.location)))),l.a.createElement("div",{className:"filters"},l.a.createElement("span",{onClick:function(e){e.target.innerHTML!==a.role&&(i(e),r(e.target.innerHTML))}},t.role),l.a.createElement("span",{onClick:function(e){e.target.innerHTML!==a.level&&(i(e),o(e.target.innerHTML))}},t.level),t.languages.map((function(e){return l.a.createElement("span",{key:e,onClick:function(e){a.languages.includes(e.target.innerHTML)||(i(e),s(a.languages.concat(e.target.innerHTML)))}},e)})),void 0!==t.tools?t.tools.map((function(e){return l.a.createElement("span",{key:e,onClick:function(e){a.tools.includes(e.target.innerHTML)||(i(e),c(a.tools.concat(e.target.innerHTML)))}},e)})):null))},T=function(e){var t=e.clearFilters;return l.a.createElement("div",{className:"box filter-box"},l.a.createElement("div",{className:"filters"}),l.a.createElement("div",{className:"clear-btn"},l.a.createElement("button",{onClick:t},"Clear")))},w=function(e){var t=e.isLoading,a=e.errMess,n=e.jobs,r=e.state,o=e.addRole,s=e.addLevel,c=e.addLanguage,i=e.addTool,u=e.handleClick;return t?l.a.createElement(M,null):a?l.a.createElement("p",null,a):l.a.createElement(l.a.Fragment,null,n.filter((function(e){var t=e.role===r.role,a=e.level===r.level,n=r.languages.every((function(t){return e.languages.includes(t)})),l=r.tools.every((function(t){return e.tools.includes(t)})),o=null===r.role,s=null===r.level,c=0===r.languages.length,i=0===r.tools.length;return o&&s&&c&&i?e:s&&c&&i?t:o&&c&&i?a:o&&s&&i?n:o&&s&&c?l:c&&i?t&&a:s&&i?t&&n:o&&i?a&&n:s&&c?t&&l:o&&c?a&&l:o&&s?n&&l:i?t&&a&&n:c?t&&a&&l:s?t&&n&&l:o?a&&n&&l:t&&a&&n&&l})).map((function(e){return l.a.createElement(S,{key:e.id,job:e,state:r,addRole:o,addLevel:s,addLanguage:c,addTool:i,handleClick:u})})))},C=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClick=function(e){var t=document.querySelector(".container-filter"),a=document.querySelector(".filter-box .filters"),l=document.createElement("span");l.innerHTML=e.target.innerHTML,l.addEventListener("click",(function(e){if(e.target.innerHTML===n.state.role)n.setState({role:null});else if(e.target.innerHTML===n.state.level)n.setState({level:null});else if(n.state.languages.includes(e.target.innerHTML)){var a=n.state.languages.indexOf(e.target.innerHTML),r=Object(L.a)(n.state.languages);r.splice(a,1),n.setState({languages:r})}else if(n.state.tools.includes(e.target.innerHTML)){var o=n.state.tools.indexOf(e.target.innerHTML),s=Object(L.a)(n.state.tools);s.splice(o,1),n.setState({tools:s})}l.remove(),0===document.querySelectorAll(".filter-box .filters span").length&&(t.style.display="none")})),a.appendChild(l),document.querySelector(".filter-box").appendChild(a),"none"===t.style.display&&(t.style.display="flex")},n.clearFilters=function(){n.setState({role:null,languages:[],tools:[],level:null});var e,t=document.querySelectorAll(".filter-box .filters span"),a=Object(y.a)(t);try{for(a.s();!(e=a.n()).done;){e.value.remove()}}catch(l){a.e(l)}finally{a.f()}document.querySelector(".container-filter").style.display="none"},n.addRole=function(e){n.setState({role:e})},n.addLevel=function(e){n.setState({level:e})},n.addLanguage=function(e){n.setState({languages:Array.from(new Set(n.state.languages.concat(e)))})},n.addTool=function(e){n.setState({tools:Array.from(new Set(n.state.tools.concat(e)))})},n.state={role:null,languages:[],tools:[],level:null},n}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container container-filter",style:{display:"none"}},l.a.createElement(T,{clearFilters:this.clearFilters})),l.a.createElement(k.a.div,{className:"container"},l.a.createElement(w,{isLoading:this.props.isLoading,errMess:this.props.errMess,jobs:this.props.jobs,state:this.state,addRole:this.addRole,addLevel:this.addLevel,addLanguage:this.addLanguage,addTool:this.addTool,handleClick:this.handleClick})))}}]),a}(l.a.Component),x=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchJobs()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(j,null),l.a.createElement(C,{jobs:this.props.jobs.jobs,isLoading:this.props.jobs.isLoading,errMess:this.props.jobs.errMess}))}}]),a}(l.a.Component),H=Object(p.b)((function(e){return{jobs:e.jobs}}),(function(e){return{fetchJobs:function(){e((function(e){e(v(!0)),fetch(b+"db.json").then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){return e(E(t))})).catch((function(t){return e(h(t.message))}))}))}}}))(x),A=Object(d.d)(Object(d.c)({jobs:f}),Object(d.a)(g.a)),D=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement(p.a,{store:A},l.a.createElement(H,null))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.ed281a61.chunk.js.map