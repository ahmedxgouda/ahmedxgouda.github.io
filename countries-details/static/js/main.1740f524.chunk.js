(this["webpackJsonpcountries-details"]=this["webpackJsonpcountries-details"]||[]).push([[0],{44:function(e,t,n){e.exports=n(74)},49:function(e,t,n){},50:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(22),o=n.n(i),l=(n(49),n(50),n(23)),c=n(24),s=n(18),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,countries:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COUNTRIES":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,errMess:null,countries:t.payload});case"COUNTRIES_LOADING":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!0,errMess:null,countries:[]});case"COUNTRIES_FAILED":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,errMess:t.payload,countries:[]});default:return e}},m=n(39),d=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.b,p=n(13),h=n(14),f=n(16),g=n(15),E=n(40),v=n.n(E),b=function(e){return{type:"ADD_COUNTRIES",payload:e}},N=function(){return{type:"COUNTRIES_LOADING"}},k=function(e){return{type:"COUNTRIES_FAILED",payload:e}},y=n(3),O=n(41),C=n.n(O),L=n(7),w={start:{x:"0%"},end:{x:"100%"}},S={duration:.4,yoyo:1/0,ease:"easeInOut"},j=function(){return r.a.createElement("div",{className:"container container-loading"},r.a.createElement(L.b.div,{className:"loading"},r.a.createElement(L.b.div,null,r.a.createElement(L.b.span,{className:"loading-circle",variants:w,initial:"start",animate:"end",transition:S}),r.a.createElement(L.b.span,{className:"loading-circle",variants:w,initial:"start",animate:"end",transition:S}),r.a.createElement(L.b.span,{className:"loading-circle",variants:w,initial:"start",animate:"end",transition:S}))))},M=n(11),P=n(17),x=n(10);x.b.add(M.f,M.e,M.a);var I=function(e){var t=e.changeName,n=e.isOpen,i=e.handleOpen,o=e.changeRegion,l=e.region;return n?document.addEventListener("click",i):document.removeEventListener("click",i),Object(a.useEffect)((function(){var e=document.querySelector(".select .list");n?(e.style.display="block",setTimeout((function(){return e.style.transform="scale(1, 1)"}),15)):(e.style.transform="scale(0, 0)",setTimeout((function(){return e.style.display="none"}),200))})),r.a.createElement("div",{className:"container container-filter"},r.a.createElement("div",{className:"filters"},r.a.createElement("div",{className:"search"},r.a.createElement("label",{htmlFor:"search"},r.a.createElement(P.a,{icon:["fas","search"]}),r.a.createElement("input",{type:"text",placeholder:"Search for a country...",onChange:function(e){return t(e.target.value)},name:"search",id:"search"}))),r.a.createElement("div",{className:"select"},r.a.createElement("div",{className:"selected",onClick:i},""===l?r.a.createElement("button",null,"Filter by Region"):r.a.createElement("button",null,l),r.a.createElement(P.a,{icon:["fas","angle-down"]})),r.a.createElement("div",{className:"list"},r.a.createElement("ul",null,""!==l?r.a.createElement("li",{onClick:function(){i(),o("")}},r.a.createElement("button",null,"All")):null,["Africa","Americas","Asia","Europe","Oceania"].map((function(e){return r.a.createElement("li",{key:Math.random(),onClick:function(){i(),o(e)}},r.a.createElement("button",null,e))})))))))},D=n(12),R={initial:{y:"100vh"},in:{y:"0"},out:{x:"-100vw",transition:{ease:"easeInOut"}}},A={transition:"easeInOut"},T=function(e){var t=e.countries,n=e.state;return Object(a.useEffect)((function(){var e=document.querySelector("#root");0===t.length?e.style.overflow="initial":e.style.overflow="hidden"})),r.a.createElement(r.a.Fragment,null,0===t.length?r.a.createElement("p",null,"Sorry, no countries found match ",r.a.createElement("strong",null,n.name)," ",""!==n.region&&"israel"!==n.name.trim().toLowerCase()?r.a.createElement(r.a.Fragment,null,"in ",n.region):null):null,"israel"===n.name.trim().toLowerCase()?r.a.createElement("p",null,"Did you mean ",r.a.createElement(D.b,{to:"/home/PSE"},r.a.createElement("strong",null,"Palestine?"))):null,t.slice(n.offset,n.offset+n.perPage).map((function(e){return r.a.createElement("div",{className:"box",key:e.name},r.a.createElement(D.b,{to:"/home/".concat(e.alpha3Code)},r.a.createElement("div",{className:"img",style:{backgroundImage:"url(".concat(e.flag,")")}}),r.a.createElement("p",{className:"click"},"Click to view details about ",r.a.createElement("strong",null,e.name)),r.a.createElement("div",{className:"text"},r.a.createElement("h3",null,e.name),r.a.createElement("p",null,"Population: ",e.population?r.a.createElement("span",null,e.population.toLocaleString()):r.a.createElement("i",null,"No informations found")),r.a.createElement("p",null,"Region: ",e.region?r.a.createElement("span",null,e.region):r.a.createElement("i",null,"No informations found")),r.a.createElement("p",null,"Capital: ",e.capital?r.a.createElement("span",null,e.capital):r.a.createElement("i",null,"No informations found")))))})))},_=function(e){return e.isDataLoading||e.isComponentLoading?r.a.createElement(j,null):e.errMess?r.a.createElement("p",null,e.errMess):r.a.createElement(L.b.div,{variants:R,initial:"initial",animate:"in",exit:"out",transition:A,className:"root-animation"},r.a.createElement(I,{changeName:e.changeName,changeRegion:e.changeRegion,region:e.region,isOpen:e.isOpen,handleOpen:e.handleOpen}),r.a.createElement("div",{className:"container".concat(0===e.countries.length?" container-no-match":"")},r.a.createElement(T,{countries:e.countries,state:e.state})),e.countries.length>12?r.a.createElement("div",{className:"container container-pagination"},r.a.createElement(C.a,{previousLabel:"Prev",nextLabel:"Next",breakLabel:"...",breakClassName:"break",pageCount:Math.ceil(e.countries.length/e.state.perPage),forcePage:e.state.currentPage,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:e.handlePageClick,containerClassName:"pagination",activeClassName:"active"})):null)},F=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).handleOpen=function(){a.setState({isOpen:!a.state.isOpen})},a.changeName=function(e){a.setState({name:e,offset:0,currentPage:0})},a.changeRegion=function(e){a.setState({region:e,offset:0,currentPage:0})},a.handlePageClick=function(e){var t=e.selected,n=t*a.state.perPage;a.setState({currentPage:t,offset:n})},a.state={offset:0,perPage:12,currentPage:0,name:"",region:"",isLoading:!0,isOpen:!1},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.setState({isLoading:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement(_,{isComponentLoading:this.state.isLoading,isDataLoading:this.props.isLoading,errMess:this.props.errMess,animating:this.props.prepareAnimating,countries:this.props.countries.filter((function(t){var n=e.state.name.trim().toLowerCase(),a=t.name.trim().toLowerCase(),r=""===e.state.name,i=""===e.state.region,o=a.includes(n),l=n===t.alpha2Code.trim().toLowerCase(),c=n===t.alpha3Code.trim().toLowerCase(),s=t.nativeName.trim().toLowerCase().includes(n),u=o||l||c||s,m=e.state.region===t.region;return r&&i?t:!r&&i?u:!i&&r?m:m&&u})),state:this.state,changeName:this.changeName,changeRegion:this.changeRegion,region:this.state.region,isOpen:this.state.isOpen,handleOpen:this.handleOpen,handlePageClick:this.handlePageClick})}}]),n}(a.Component);x.b.add(M.f,M.b);var U={initial:{x:"100vw"},in:{x:"0"},out:{x:"-100vw",transition:{ease:"easeInOut"}}},W={transition:"linear"},B=function(e){var t=e.country,n=e.countries;return r.a.createElement("div",{className:"box details",key:t.alpha3Code},r.a.createElement("div",{className:"img",style:{backgroundImage:"url(".concat(t.flag,")")}}),r.a.createElement("div",{className:"text"},r.a.createElement("div",{className:"info"},r.a.createElement("div",null,r.a.createElement("h2",null,t.name)),r.a.createElement("div",{className:"main"},r.a.createElement("div",null,r.a.createElement("p",null,"Native Name: ",t.nativeName?r.a.createElement("span",null,t.nativeName):r.a.createElement("i",null,"No informations found")),r.a.createElement("p",null,"Population: ",t.population?r.a.createElement("span",null,t.population.toLocaleString()):r.a.createElement("i",null,"No informations found")),r.a.createElement("p",null,"Region: ",t.region?r.a.createElement("span",null,t.region):r.a.createElement("i",null,"No informations found")),r.a.createElement("p",null,"Sub Region: ",t.subregion?r.a.createElement("span",null,t.subregion):r.a.createElement("i",null,"No informations found")),r.a.createElement("p",null,"Capital: ",t.capital?r.a.createElement("span",null,t.capital):r.a.createElement("i",null,"No informations found"))),r.a.createElement("div",{className:"other-info"},r.a.createElement("p",null,"Top Level Domain: ",0!==t.topLevelDomain.length?t.topLevelDomain.map((function(e,t){return r.a.createElement("span",{key:Math.random()},(t?", ":"")+e)})):r.a.createElement("i",null,"No informations found")),r.a.createElement("p",null,"Currencies: ",0!==t.currencies.length?t.currencies.map((function(e,t){return r.a.createElement("span",{key:Math.random()},(t?", ":"")+(e.name.includes("Israel")?e.name="Sheqel":e.name))})):r.a.createElement("i",null,"No informations found")),r.a.createElement("p",null,"Languages: ",0!==t.languages.length?t.languages.map((function(e,t){return r.a.createElement("span",{key:Math.random()},(t?", ":"")+e.name)})):r.a.createElement("i",null,"No informations found"))))),r.a.createElement("div",{className:"borders"},r.a.createElement("p",null,"Border Countries: ",0!==t.borders.length?t.borders.map((function(e){return n.filter((function(t){return t.alpha3Code===e})).map((function(e){return r.a.createElement(D.b,{to:"/home/".concat(e.alpha3Code),key:e.alpha3Code},r.a.createElement("span",null,e.name," "))}))})):r.a.createElement("i",null,"No informations found")))))},q=function(){return r.a.createElement("div",{className:"filters",style:{position:"relative",margin:"0 auto 0 0"}},r.a.createElement(D.b,{to:"/home",className:"btn"},r.a.createElement(P.a,{style:{position:"absolute",top:"10px",left:"10px"},icon:["fas","arrow-left"]})," Back"))},J=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={isLoading:!0},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.setState({isLoading:!1})}},{key:"render",value:function(){return void 0!==this.props.country?r.a.createElement(L.b.div,{variants:U,initial:"initial",animate:"in",exit:"out",transition:W},r.a.createElement("div",{className:"container",style:{display:"flex",padding:"3% 5% 20px 5%"}},r.a.createElement(q,null)),r.a.createElement("div",{className:"container",style:{display:"block"}},r.a.createElement(B,{country:this.props.country,countries:this.props.countries}))):this.props.isLoading||this.state.isLoading?r.a.createElement(j,null):this.props.errMess?r.a.createElement("p",null,this.props.errMess):null}}]),n}(a.Component),G=n(43);x.b.add(G.a,M.d,M.c);var X=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).checkIfChecked=function(e){var t=document.documentElement;e.checked?(t.classList.remove("light-theme"),t.classList.add("dark-theme")):(t.classList.remove("dark-theme"),t.classList.add("light-theme"))},a.handleCheck=function(e){localStorage.setItem("checked",e.target.checked),a.checkIfChecked(e.target),a.setState({checked:e.target.checked})},a.state={checked:JSON.parse(localStorage.getItem("checked"))},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=document.querySelector(".header input");e.checked=this.state.checked,this.checkIfChecked(e)}},{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"Where in the world?"),r.a.createElement("input",{type:"checkbox",onClick:this.handleCheck,id:"theme-switcher",name:"theme-switcher"}),r.a.createElement("label",{htmlFor:"theme-switcher"},this.state.checked?r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{icon:["far","lightbulb"]})," ",r.a.createElement("span",null,"Light Mode")):r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{icon:["far","moon"]})," ",r.a.createElement("span",null,"Dark Mode")))))}}]),n}(a.Component),V=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchCountries()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null),r.a.createElement(L.a,{exitBeforeEnter:!0},r.a.createElement(y.d,{location:this.props.location,key:this.props.location.pathname},r.a.createElement(y.b,{exact:!0,path:"/home",component:function(){return r.a.createElement(F,{countries:e.props.countries,isLoading:e.props.isLoading,errMess:e.props.errMess})}}),r.a.createElement(y.b,{path:"/home/:alpha3Code",component:function(t){var n=t.match;return r.a.createElement(J,{country:e.props.countries.filter((function(e){return n.params.alpha3Code===e.alpha3Code}))[0],countries:e.props.countries,isLoading:e.props.isLoading,errMess:e.props.errMess})}}),r.a.createElement(L.b.section,{exit:"undefined"},r.a.createElement(y.a,{to:"/home"})))))}}]),n}(a.Component),$=Object(y.g)(Object(l.b)((function(e){return{countries:e.countries,isLoading:e.isLoading,errMess:e.errMess}}),(function(e){return{fetchCountries:function(){e((function(e){e(N(!0)),v.a.get("https://restcountries.com/v2/all").then((function(t){return e(b(t.data.filter((function(e){return"Palestine, State of"===e.name?e.name="Palestine":"Israel"!==e.name}))))})).catch((function(t){return e(k(t.message))}))}))}}}))(V));var z=function(){return r.a.createElement(l.a,{store:Object(c.c)(u,d(Object(c.a)(m.a)))},r.a.createElement(D.a,null,r.a.createElement($,null)))},H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/countries-details",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/countries-details","/service-worker.js");H?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):K(t,e)}))}}()}},[[44,1,2]]]);
//# sourceMappingURL=main.1740f524.chunk.js.map